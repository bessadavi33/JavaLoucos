<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Cadastro - JavaLoucos</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <img src="logo.png" alt="Logo JavaLoucos" class="logo-topo">
    <h2>Cadastro</h2>
    
    <% if (error) { %>
      <div class="error"><%= error %></div>
    <% } %>

    <form method="POST" action="/register" enctype="multipart/form-data">
      <label for="nome">Nome completo</label>
      <input type="text" id="nome" name="nome" placeholder="Nome completo" required>
      
      <label for="cpf">CPF</label>
      <input type="text" id="cpf" name="cpf" placeholder="CPF" required>
      
      <label for="nascimento">Data de nascimento</label>
      <input type="date" id="nascimento" name="nascimento" placeholder="Data de nascimento" required>
      
      <label for="email">E-mail</label>
      <input type="email" id="email" name="email" placeholder="E-mail" required>
      
      <label for="password">Senha</label>
      <input type="password" id="password" name="password" placeholder="Senha" required>
      
      <label for="repeatPassword">Repetir senha</label>
      <input type="password" id="repeatPassword" name="repeatPassword" placeholder="Repetir senha" required>
      
      <label for="codigoCadastro">Código de cadastro</label>
      <input type="text" id="codigoCadastro" name="codigoCadastro" placeholder="Código de cadastro" required>
      
      <label for="foto">Foto para carteirinha:</label>
      <input type="file" id="foto" name="foto" accept="image/*">
      
      <button type="submit">Cadastrar</button>
    </form>

    <div class="links-container">
      <a href="/">Voltar ao login</a>
    </div>
  </div>

  <div class="patrocinadores-container">
    <div class="patrocinadores-title">Nossos Patrocinadores:</div>
    <div class="patrocinadores-grid">
      <div class="patrocinadores-row">
        <img src="1l1c.png" alt="Patrocinador 1" class="patrocinador-img">
        <img src="1l2c.png" alt="Patrocinador 2" class="patrocinador-img">
        <img src="1l3c.png" alt="Patrocinador 3" class="patrocinador-img">
        <img src="1l4c.png" alt="Patrocinador 4" class="patrocinador-img">
        <img src="2l6c.png" alt="Patrocinador 4" class="patrocinador-img">
      </div>
      <div class="patrocinadores-row">
        <img src="2l1c.png" alt="Patrocinador 5" class="patrocinador-img">
        <img src="2l2c.png" alt="Patrocinador 6" class="patrocinador-img">
        <img src="2l3c.png" alt="Patrocinador 7" class="patrocinador-img">
        <img src="2l4c.png" alt="Patrocinador 8" class="patrocinador-img">
        <img src="2l5c.png" alt="Patrocinador 13" class="patrocinador-img">
        <img src="1l5c.png" alt="Patrocinador 14" class="patrocinador-img">
      </div>
      <div class="patrocinadores-row">
        <img src="3l1c.png" alt="Patrocinador 9" class="patrocinador-img">
        <img src="3l2c.png" alt="Patrocinador 10" class="patrocinador-img">
        <img src="3l3c.png" alt="Patrocinador 11" class="patrocinador-img">
        <img src="3l4c.png" alt="Patrocinador 12" class="patrocinador-img">
        <img src="3l5c.png" alt="Patrocinador 15" class="patrocinador-img">
        <img src="3l6c.png" alt="Patrocinador 16" class="patrocinador-img">
      </div>
    </div>
  </div>

  <script>
    let foto = null;
    if (req.file) {
      foto = `/uploads/${req.file.filename}`;
      // Garante que o arquivo realmente existe
      if (!fs.existsSync(path.join(__dirname, 'public', 'uploads', req.file.filename))) {
        foto = null;
      }
    }
  </script>
</body>
</html>